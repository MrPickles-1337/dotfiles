export XDG_DATA_HOME=$HOME/.local/share
export XDG_CONFIG_HOME=$HOME/.config
export XDG_STATE_HOME=$HOME/.local/state
export XDG_CACHE_HOME=$HOME/.cache

export ZSH="$XDG_DATA_HOME/oh-my-zsh"
export EDITOR=nvim
export TERM=xterm-256color
export CARGO_HOME=$XDG_DATA_HOME/cargo
export DOCKER_CONFIG=$XDG_CONFIG_HOME/docker
export ANDROID_USER_HOME=$XDG_DATA_HOME/android
export GNUPGHOME=$XDG_DATA_HOME/gnupg
export GOPATH=$XDG_DATA_HOME/go
export GRADLE_USER_HOME=$XDG_DATA_HOME/gradle
export LESSHISTFILE=$XDG_STATE_HOME/less/history
export NODE_REPL_HISTORY=$XDG_DATA_HOME/node_repl_history
export NUGET_PACKAGES=$XDG_CACHE_HOME/NuGetPackages
export _JAVA_OPTIONS=-Djava.util.prefs.userRoot=$XDG_CONFIG_HOME/java
export PYTHONSTARTUP=$XDG_CONFIG_HOME/python/pythonrc
export RUSTUP_HOME=$XDG_DATA_HOME/rustup

alias wget=wget --hsts-file=$XDG_DATA_HOME/wget-hsts

export CHROME_EXECUTABLE=/usr/bin/google-chrome-stable

ZSH_THEME="robbyrussell"

zstyle ':omz:update' mode auto      # update automatically without asking

DISABLE_UNTRACKED_FILES_DIRTY="true"

plugins=(git rust docker flutter)

source $ZSH/oh-my-zsh.sh

function chpwd {
	emulate -L zsh
	ls
}
path+=/home/kirill/dev/AndroidSDK/platform-tools
path+=/home/kirill/.bin
path+=/home/kirill/.pub-cache/bin
path+=/home/kirill/.local/bin
path+=/home/kirill/dev/flutter/bin
path+=$CARGO_HOME/bin
path+=/home/kirill/.spicetify

#rust replacemnts
alias ls=exa
alias du=dust
alias cat=bat
alias grep=rg
alias lg=lazygit

alias fla="flutter analyze"

alias nd="unset yep; neovide .;exit"
alias nv="nvim ."
alias icat="kitty +kitten icat"
alias py=python


alias n="nnn -de"
export NNN_FIFO=/tmp/nnn.fifo
export NNN_PLUG="p:preview-tui"
export SPLIT="v"

function ncd {
  if [ -n $NNNLVL ] && [ "${NNNLVL:-0}" -ge 1]; then
    echo "nnn is already running"
    return
  fi
  export NNN_TMPFILE="${XDG_CONFIG_HOME:-$HOME/.config}/nnn/.lastd"
  n "$@"
  if [ -f "$NNN_TMPFILE" ]; then
    . "$NNN_TMPFILE"
    rm -f "$NNN_TMPFILE" > /dev/null
  fi
}

function zel {
        ZJ_SESSIONS=$(zellij list-sessions)
        NO_SESSIONS=$(echo "${ZJ_SESSIONS}" | wc -l)

        if [ "${NO_SESSIONS}" -ge 2 ]; then
            zellij attach \
            "$(echo "${ZJ_SESSIONS}"| sk)"
        else
            zellij attach -c
        fi
    }


# alias flr="flutter run"
# alias flba="flutter build apk --release"
# alias flbai="flba && flutter install"
# alias flc="flutter clean"

# if [[ -v yep ]]; then
#     eval "$(zellij setup --generate-auto-start zsh)"
# fi
eval "$(starship init zsh)"

# The following lines were added by compinstall

fpath+=~/.zsh/functions/
zstyle ':completion:*' completer _complete _ignored
zstyle :compinstall filename '/home/kirill/.zshrc'

autoload -Uz compinit
compinit -d $XDG_CACHE_HOME/zsh/zcompdump-$ZSH_VERSION
# End of lines added by compinstall
